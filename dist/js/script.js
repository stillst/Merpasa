!function(){function e(){var e=localStorage.getItem("color");null!=e&&m(e)}function n(){var e=window.location.pathname;switch(e=e.substring(e.lastIndexOf("/")+1)){case"/":case"//":case"":case"dist":a();break;case"packequip":case"packematerial":case"autoequip":case"technoequip":case"technoserv":s(e)}}function t(){for(var e=document.getElementsByClassName("main-nav__link"),n=0;n<e.length;n++)e[n].addEventListener("click",i)}function a(n){null!=n&&n.preventDefault();var a="dist",o=window.location.pathname;o=o.substring(o.lastIndexOf("/")+1),a!=o&&""!=o&&(console.log("refresh "+o),console.log("Зашли снова"),l("/")),v=document.getElementsByClassName("main-nav__item");var i=document.getElementById("main-nav"),r=v.length;if(r<5){c();for(var s=r;s--;)v[s].parentNode.removeChild(v[s]);for(var s=0;s<u.length;s++)i.appendChild(u[s]);e(),t()}}function o(){var e=document.getElementById("content");if(null==e){var e=document.createElement("div");e.classList.add("content"),e.id="content";var n=document.createElement("h1");n.innerHTML="Заголовок",e.appendChild(n);var t=document.createElement("p");t.innerHTML="Какой-то текст",e.appendChild(t);var a=document.getElementById("main-nav");a.appendChild(e)}}function c(){var e=document.getElementById("content");null!=e&&e.parentNode.removeChild(e)}function i(e){e.preventDefault(),r(this.parentNode.className)}function r(e){var n="";e.indexOf("packequip")!==-1&&(n="packequip",l(n),s(n)),e.indexOf("packematerial")!==-1&&(n="packematerial",l(n),s(n)),e.indexOf("autoequip")!==-1&&(n="autoequip",l(n),s(n)),e.indexOf("technoequip")!==-1&&(n="technoequip",l(n),s(n)),e.indexOf("technoserv")!==-1&&(n="technoserv",l(n),s(n))}function l(e){history.pushState(null,"",e)}function s(e){for(var n=document.getElementsByClassName("main-nav__item"),t=n.length,a=t;a--;)n[a].className.indexOf(e)==-1&&n[a].parentNode.removeChild(n[a]);o()}function d(){var e="rgba(26, 72, 166, 0.9)",n="rgba(167, 27, 59, 0.9)",t="rgba(166, 120, 26, 0.9)",a="rgba(27, 167, 104, 0.9)",o=localStorage.getItem("color"),c="";do{var i=Math.floor(4*Math.random())+1;switch(i){case 1:c=e;break;case 2:c=n;break;case 3:c=t;break;case 4:c=a}}while(o==c);localStorage.setItem("color",c),m(c)}function m(e){var n=document.getElementById("footer");n.style.backgroundColor=e;var t=document.getElementsByClassName("main-nav__link");opacity=.9;for(var a=0;a<t.length;a++){var o=e.substring(0,e.lastIndexOf(",")+1);o=o+" "+opacity+")",t[a].style.backgroundColor=o,opacity-=.1}opacity=.9}window.addEventListener("popstate",function(e){n()},!1),t();for(var u=[],v=document.getElementsByClassName("main-nav__item"),p=0;p<v.length;p++){var f=v[p].cloneNode(!0);u.push(f)}e(),n();var g=document.getElementById("logo__link");g.addEventListener("mouseover",d),g.addEventListener("click",a)}();